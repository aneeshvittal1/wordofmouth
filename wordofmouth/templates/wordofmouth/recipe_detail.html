{% load socialaccount %}
 <!-- Bootstrap icons -->
 <link
 rel="stylesheet"
 href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.3.0/font/bootstrap-icons.css"
/>
<html>
  <body>
    {% include "navbar.html" %}
    <div class="card shadow" style="margin-top: 15px; margin-left:10%; margin-right:10%; margin-bottom:15px; width:auto; min-height:100vh; border-radius: 1rem;">
      <div style="margin-left:30px;margin-right: 30px; margin-top:10px">
        <div class="d-flex bd-highlight mb-3" style="overflow:auto">
          <div class="me-auto p-2 bd-highlight">
            <h1 style="color:#e16f62;font-size: 70px;">{{ recipe.recipe_title }}</h1>
          </div>
          <div class="p-2 bd-highlight" style="min-width: 60px;">
            {% if request.user.is_authenticated %}
             <div id="favorite-section">
               {% if is_favorite %}
              <a href="{% url 'wordofmouth:favorite_recipe' recipe.id%}">
                <i class="bi-bookmark-heart-fill btn-lg"></i>
              </a>
             {% else %}
                <a href="{% url 'wordofmouth:favorite_recipe' recipe.id%}">
                <i class="bi-bookmark-heart btn-lg"></i>
              </a>
              {% endif %}
          </div>
              {% endif %}
              {% if request.user.is_authenticated %}
            <form action="{% url 'wordofmouth:like_recipe' %}" method="post" name="like" id="likeform">
              {% csrf_token%}
                {% if is_liked %}
                <button type="submit" name="recipe_id" value="{{ recipe.id}}" class="btn btn-primary">
                     <i class="bi bi-hand-thumbs-up-fill"></i>
                    {{ total_likes }}
                </button>
                {% else %}
                <button type="submit" name="recipe_id" value="{{ recipe.id}}" class="btn btn-primary">
                     <i class="bi bi-hand-thumbs-up"></i>
                    {{ total_likes }}
                </button>
                {% endif %}

            </form>
              {% endif %}
          </div>
        </div>

        <div style="height:10px;background-color: #ffdd77; margin-top: -23px;"></div>
        <div style="text-align: left;">
          <img style="max-height:50vh; max-width: 68vw; margin-top:20px; text-align: center;"src ="{{recipe.picture.url}}">
        </div>
        <h4 style="margin-top: 20px; color:#175676; font-weight: bold; ">By {{ recipe.author }}</h4>
        <div style="font-size:18px; margin-top: 20px;">
          <p>{{ recipe.instructions.html | safe }}</p>
        </div>
        <div style="margin-top:20px;margin-bottom: 20px;">
          {% include 'comments.html' with url=recipe.id %}
        </div>
      </div>
    </div>
  </body>
</html>
